import{r as c,j as e}from"./vendor-codemirror-YmvNK9KJ.js";import{u as Ee,S as $,c as ne,L as A,a as Te,C as ce,D as de,F as $e,B as De}from"./MainApp-CsQxt9Iy.js";import{c as x,e as Re,a as o,b as je,Z as Fe}from"./index-BjdFrzXK.js";import{K as oe}from"./keyboard-Bs410ZuA.js";import{U as le}from"./user-lpBBC617.js";import{R as xe}from"./refresh-cw-Du5FK0wQ.js";import{T as qe}from"./trash-2-B4sySCZE.js";import{T as He}from"./terminal-CxvecJyb.js";import"./vendor-markdown-Bqz58gXN.js";import"./vendor-react-bmmOCWbf.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],me=x("credit-card",Oe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],We=x("external-link",Ve);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],D=x("info",Ye);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],R=x("key-round",Ge);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Je=x("layers",Ze);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pe=x("log-out",Qe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],et=x("mail",Xe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],st=x("moon",tt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ue=x("shield",rt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],it=x("split",at);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ct=x("sun",nt);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],he=x("triangle-alert",dt),ot="live",lt=["read","mcp:tools"],F=s=>typeof s=="object"&&s!==null,n=s=>typeof s=="string"&&s.length>0?s:void 0,we=s=>Array.isArray(s)?s.filter(r=>typeof r=="string"&&r.length>0):[],be=s=>{if(!F(s))return null;const r=n(s.id),i=n(s.name),u=n(s.keyPrefix)??n(s.prefix)??"",f=n(s.keyHint)??"----",m=n(s.environment)==="test"?"test":"live",N=we(s.scopes),j=typeof s.isActive=="boolean"?s.isActive:typeof s.isRevoked=="boolean"?!s.isRevoked:!0,C=typeof s.usageCount=="number"?s.usageCount:0,z=typeof s.rateLimit=="number"?s.rateLimit:1e3;return!r||!i||!u?null:{id:r,name:i,description:n(s.description),keyPrefix:u,keyHint:f,environment:m,scopes:N,isActive:j,lastUsedAt:n(s.lastUsedAt),usageCount:C,expiresAt:n(s.expiresAt),rateLimit:z,createdAt:n(s.createdAt)??new Date().toISOString(),updatedAt:n(s.updatedAt)}},xt=s=>Array.isArray(s)?s.map(r=>be(r)).filter(r=>r!==null):F(s)&&Array.isArray(s.keys)?s.keys.map(r=>be(r)).filter(r=>r!==null):[],fe=s=>{if(!F(s))return null;const r=n(s.id),i=n(s.name),u=n(s.fullKey)??n(s.key),f=n(s.keyPrefix)??"",m=n(s.keyHint)??(u?u.slice(-4):"----"),N=n(s.environment)==="test"?"test":"live",j=we(s.scopes);return!r||!i||!u||!f?null:{id:r,name:i,description:n(s.description),fullKey:u,keyPrefix:f,keyHint:m,environment:N,scopes:j,expiresAt:n(s.expiresAt),createdAt:n(s.createdAt)??new Date().toISOString(),warning:n(s.warning)??"This key will only be shown once. Please copy and store it securely."}},ge=s=>{if(!s)return"Never";const r=new Date(s);return Number.isNaN(r.getTime())?"Invalid date":r.toLocaleString()},mt=[{name:"Workspaces",icon:e.jsx(Je,{size:14}),shortcuts:[{description:"New workspace tab",keys:["⌘","T"]},{description:"Close workspace",keys:["⌘","⇧","W"]},{description:"Next workspace",keys:["⌘","⇧","]"]},{description:"Previous workspace",keys:["⌘","⇧","["]}]},{name:"Panes",icon:e.jsx(it,{size:14}),shortcuts:[{description:"New session",keys:["⌘","N"]},{description:"Split horizontal",keys:["⌘","D"]},{description:"Split vertical",keys:["⌘","⇧","D"]},{description:"Close active pane",keys:["⌘","W"]},{description:"Next pane",keys:["⌘","]"]},{description:"Previous pane",keys:["⌘","["]}]},{name:"AI Features",icon:e.jsx(De,{size:14}),shortcuts:[{description:"AI assistance",keys:["⌘","K"]}]}],ye=[{id:"bridgemind",name:"BridgeMind",previewBg:"#030508",previewBorder:"#141e30",previewAccent:"#00e5ff",category:"dark"},{id:"void",name:"Void",previewBg:"#040407",previewBorder:"#1e1e2e",previewAccent:"#6366f1",category:"dark"},{id:"ghost",name:"Ghost",previewBg:"#080808",previewBorder:"#1e1e22",previewAccent:"#10d5a9",category:"dark"},{id:"plasma",name:"Plasma",previewBg:"#070013",previewBorder:"#2a0048",previewAccent:"#e040fb",category:"dark"},{id:"carbon",name:"Carbon",previewBg:"#101010",previewBorder:"#2c2c2c",previewAccent:"#f59e0b",category:"dark"},{id:"hex",name:"Hex",previewBg:"#030803",previewBorder:"#0f200f",previewAccent:"#00ff41",category:"dark"},{id:"neon-tokyo",name:"Neon Tokyo",previewBg:"#0a0014",previewBorder:"#2d0048",previewAccent:"#ff0080",category:"dark"},{id:"obsidian",name:"Obsidian",previewBg:"#06040e",previewBorder:"#1e183a",previewAccent:"#8b5cf6",category:"dark"},{id:"nebula",name:"Nebula",previewBg:"#030010",previewBorder:"#160040",previewAccent:"#c084fc",category:"dark"},{id:"storm",name:"Storm",previewBg:"#0c1016",previewBorder:"#243040",previewAccent:"#fde047",category:"dark"},{id:"infrared",name:"Infrared",previewBg:"#0c0200",previewBorder:"#3d1000",previewAccent:"#ff6b35",category:"dark"},{id:"nova",name:"Nova",previewBg:"#050208",previewBorder:"#200a30",previewAccent:"#f97316",category:"dark"},{id:"stealth",name:"Stealth",previewBg:"#0d0f0f",previewBorder:"#252e2e",previewAccent:"#34d399",category:"dark"},{id:"hologram",name:"Hologram",previewBg:"#020810",previewBorder:"#0a2040",previewAccent:"#00d4ff",category:"dark"},{id:"dracula",name:"Dracula",previewBg:"#1a1b2e",previewBorder:"#44475a",previewAccent:"#ff79c6",category:"dark"},{id:"paper",name:"Paper",previewBg:"#fafafa",previewBorder:"#e0e0e4",previewAccent:"#09090b",category:"light"},{id:"chalk",name:"Chalk",previewBg:"#fdf8f0",previewBorder:"#ddd0b8",previewAccent:"#16a34a",category:"light"},{id:"solar",name:"Solar",previewBg:"#fdf6e3",previewBorder:"#d0caa8",previewAccent:"#268bd2",category:"light"},{id:"arctic",name:"Arctic",previewBg:"#f8fbff",previewBorder:"#c8daf8",previewAccent:"#2563eb",category:"light"},{id:"ivory",name:"Ivory",previewBg:"#faf8f4",previewBorder:"#d8d0c0",previewAccent:"#b45309",category:"light"}];function l({children:s,className:r}){return e.jsx("div",{className:o("rounded-lg border border-border bg-surface/70",r),children:s})}function pt(){const[s,r]=c.useState(null);c.useEffect(()=>{typeof window.tauriAPI?.system?.getLogPath=="function"&&window.tauriAPI.system.getLogPath().then(r).catch(()=>r(null))},[]);const i=async()=>{if(s)try{await window.tauriAPI?.shell?.showItemInFolder(s)}catch{}};return s?e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 truncate rounded border border-border bg-background px-2 py-1 text-[10px] text-text-secondary",children:s}),e.jsx("button",{onClick:i,className:o("shrink-0 rounded border border-border bg-surface-hover px-2 py-1 text-[10px] font-medium","text-text-secondary hover:text-text-primary hover:border-border-active"),children:"Show in Finder"})]}):null}function I({icon:s,title:r,description:i}){return e.jsx("div",{className:"mb-4 flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-md border border-border bg-surface-hover text-text-secondary",children:s}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-text-primary",children:r}),e.jsx("p",{className:"text-xs text-text-muted",children:i})]})]})})}function ve({themeOption:s,isSelected:r,onClick:i}){return e.jsxs("button",{onClick:i,"aria-pressed":r,"aria-label":`Select ${s.name} theme`,className:o("group relative overflow-hidden rounded-md border bg-surface text-left transition-colors","focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-blue focus-visible:ring-offset-2 focus-visible:ring-offset-background",r?"border-accent-blue ring-1 ring-accent-blue/40":"border-border hover:border-border-active hover:bg-surface-hover"),children:[e.jsxs("div",{className:"h-14 border-b border-border/70 p-2",style:{backgroundColor:s.previewBg},children:[e.jsxs("div",{className:"mb-2 flex gap-1",children:[e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-red-500/70"}),e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-yellow-500/70"}),e.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500/70"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-1 w-7 rounded-sm",style:{backgroundColor:s.previewAccent}}),e.jsx("div",{className:"h-1 w-12 rounded-sm",style:{backgroundColor:s.previewBorder,opacity:.65}}),e.jsx("div",{className:"h-1 w-9 rounded-sm",style:{backgroundColor:s.previewBorder,opacity:.45}})]})]}),e.jsxs("div",{className:"flex items-center justify-between px-2.5 py-2",children:[e.jsx("span",{className:"text-xs font-medium text-text-primary",children:s.name}),r?e.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center rounded-full bg-accent-blue text-white",children:e.jsx(je,{size:11,strokeWidth:3})}):null]})]})}function kt(){const{theme:s,setTheme:r}=Ee(),{user:i,logout:u,isLoading:f}=Re(),[m,N]=c.useState("appearance"),[j,C]=c.useState(!1),[z,q]=c.useState(null),[H,O]=c.useState(!1),[V,g]=c.useState(null),[W,y]=c.useState(null),[Y,G]=c.useState(null),[P,B]=c.useState([]),[K,Z]=c.useState(!1),[S,p]=c.useState(null),[L,J]=c.useState(""),[U,Q]=c.useState(!1),[Ne,X]=c.useState(null),[ee,te]=c.useState(null),[v,se]=c.useState(null),[re,M]=c.useState(!1),_=window.tauriAPI.system.platform,ke=ye.filter(t=>t.category==="dark"),Ae=ye.filter(t=>t.category==="light"),Ce=async()=>{await u()},E=async t=>{if(!t)return!1;try{return await window.tauriAPI.shell.openExternal(t),!0}catch{return!1}},ae=async()=>{try{const t=await window.tauriAPI.system.getWebUrl();if(!t)return;await E(`${t}/settings/billing`)}catch{}},Pe=async()=>{try{const t=await window.tauriAPI.system.getWebUrl();if(!t)return;await E(`${t}/settings/account`)}catch{}},Se=async()=>{C(!0);try{const t=await window.tauriAPI.api.stripe.createCustomerPortal();t.success&&t.data?.url&&await E(t.data.url)}catch{}finally{C(!1)}},Ie=async()=>{if(_==="linux"){y(null),G(null),g("Auto-updates are not supported on Linux yet.");return}O(!0),y(null),g("Checking for updates...");try{const t=await window.tauriAPI.updater.checkForUpdates();t.updateAvailable?g(`Update available${t.version?`: ${t.version}`:""}. Downloading in background...`):g("You are on the latest version.")}catch(t){const a=t instanceof Error?t.message:"Failed to check for updates.";y(a),g(null)}finally{O(!1)}},ze=async()=>{try{await window.tauriAPI.updater.quitAndInstall()}catch(t){const a=t instanceof Error?t.message:"Failed to install update.";y(a)}},w=c.useCallback(async()=>{Z(!0),p(null);try{const t=await window.tauriAPI.api.apiKey.getAll();if(!t.success){p(t.error?.message||"Failed to load API keys."),B([]);return}const a=xt(t.data);B(a)}catch{B([]),p("Failed to load API keys. Please try again.")}finally{Z(!1)}},[]),Be=()=>{J("")},Ke=async()=>{const t=L.trim();if(!t){p("API key name is required.");return}Q(!0),p(null),M(!1);try{const a=await window.tauriAPI.api.apiKey.create({name:t,environment:ot,scopes:[...lt]});if(!a.success){p(a.error?.message||"Failed to create API key.");return}const d=fe(a.data);d?se(d):p("API key was created, but the secret could not be parsed."),Be(),await w()}catch{p("Failed to create API key. Please try again.")}finally{Q(!1)}},Le=async()=>{if(v)try{await navigator.clipboard.writeText(v.fullKey),M(!0)}catch{p("Failed to copy API key. Please copy it manually.")}},ie=async(t,a,d)=>{X(t),te(a),p(null);try{await d()}catch{p(`Failed to ${a} API key. Please try again.`)}finally{X(null),te(null)}},Ue=async t=>{window.confirm(`Rotate "${t.name}"?

The existing key will stop working immediately and a new key will be generated.`)&&await ie(t.id,"rotate",async()=>{const d=await window.tauriAPI.api.apiKey.rotate(t.id);if(!d.success)throw new Error(d.error?.message||"Rotate failed");const h=fe(d.data);h&&(se(h),M(!1)),await w()})},Me=async t=>{window.confirm(`Revoke "${t.name}"?

This action cannot be undone and the key will stop working immediately.`)&&await ie(t.id,"revoke",async()=>{const d=await window.tauriAPI.api.apiKey.revoke(t.id);if(!d.success)throw new Error(d.error?.message||"Revoke failed");await w()})};c.useEffect(()=>{let t=!0;window.tauriAPI.updater.getVersion().then(b=>{t&&q(b)}).catch(()=>{t&&q(null)});const a=window.tauriAPI.updater.onUpdateAvailable(({version:b})=>{y(null),g(`Update available: ${b}. Downloading...`)}),d=window.tauriAPI.updater.onUpdateDownloaded(({version:b})=>{G(b),y(null),g(`Update ${b} downloaded. Restart to install.`)}),h=window.tauriAPI.updater.onError(({message:b})=>{y(b||"Update error occurred.")});return()=>{t=!1,a(),d(),h()}},[]),c.useEffect(()=>{m==="apiKeys"&&!K&&P.length===0&&!S&&w()},[m,K,P.length,S,w]);const _e=[{id:"appearance",label:"Appearance",icon:ne,description:"Theme and display"},{id:"shortcuts",label:"Shortcuts",icon:oe,description:"Keyboard bindings"},{id:"account",label:"Account",icon:le,description:"Profile and billing"},{id:"apiKeys",label:"API Keys",icon:R,description:"Create and manage keys"}],T=o("inline-flex items-center gap-2 rounded-md border border-accent-blue bg-accent-blue px-3 py-1.5","text-xs font-semibold text-white transition-colors hover:bg-accent-blue/90","focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-blue focus-visible:ring-offset-2 focus-visible:ring-offset-background"),k=o("inline-flex items-center gap-2 rounded-md border border-border bg-surface-hover px-3 py-1.5","text-xs font-medium text-text-secondary transition-colors hover:text-text-primary hover:border-border-active","focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-blue focus-visible:ring-offset-2 focus-visible:ring-offset-background");return e.jsxs("div",{className:"flex h-full bg-background text-text-primary",children:[e.jsxs("aside",{className:"flex w-64 shrink-0 flex-col border-r border-border bg-surface/40",children:[e.jsx("div",{className:"border-b border-border px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-md border border-border bg-surface-hover text-text-secondary",children:e.jsx($,{size:16})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-semibold text-text-primary",children:"Settings"}),e.jsx("p",{className:"text-xs text-text-muted",children:"BridgeSpace Desktop"})]})]})}),e.jsx("nav",{className:"flex-1 space-y-1 p-3","aria-label":"Settings navigation",children:_e.map(t=>{const a=t.icon,d=m===t.id;return e.jsx("button",{onClick:()=>N(t.id),"aria-current":d?"page":void 0,className:o("w-full rounded-md border px-3 py-2 text-left transition-colors","focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-blue focus-visible:ring-offset-2 focus-visible:ring-offset-background",d?"border-border-active bg-surface text-text-primary":"border-transparent text-text-secondary hover:border-border hover:bg-surface-hover hover:text-text-primary"),children:e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx(a,{size:15}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium",children:t.label}),e.jsx("div",{className:"truncate text-[11px] text-text-muted",children:t.description})]})]})},t.id)})}),e.jsx("div",{className:"border-t border-border px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[e.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-accent-green"}),"Connected"]})})]}),e.jsx("main",{className:"custom-scrollbar flex-1 overflow-y-auto",children:e.jsxs("div",{className:"mx-auto max-w-4xl p-6",children:[m==="appearance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{icon:e.jsx(ne,{size:15}),title:"Appearance",description:"Choose a theme and keep your workspace consistent across sessions."}),e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm font-medium text-text-primary",children:[e.jsx(st,{size:14,className:"text-text-secondary"}),"Dark themes"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",role:"radiogroup","aria-label":"Dark themes",children:ke.map(t=>e.jsx(ve,{themeOption:t,isSelected:s===t.id,onClick:()=>r(t.id)},t.id))})]}),e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm font-medium text-text-primary",children:[e.jsx(ct,{size:14,className:"text-text-secondary"}),"Light themes"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",role:"radiogroup","aria-label":"Light themes",children:Ae.map(t=>e.jsx(ve,{themeOption:t,isSelected:s===t.id,onClick:()=>r(t.id)},t.id))})]}),e.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-surface/50 px-3 py-2 text-xs text-text-muted",children:[e.jsx(D,{size:13,className:"text-text-secondary"}),"Theme changes are applied instantly and saved automatically."]})]}),m==="shortcuts"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{icon:e.jsx(oe,{size:15}),title:"Keyboard Shortcuts",description:"Reference frequently used shortcuts for workspace and pane actions."}),e.jsx("div",{className:"space-y-3",children:mt.map(t=>e.jsxs(l,{className:"overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-border bg-surface-hover/60 px-4 py-2.5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-text-primary",children:[e.jsx("span",{className:"text-text-secondary",children:t.icon}),t.name]}),e.jsx("span",{className:"rounded border border-border bg-surface px-1.5 py-0.5 text-[10px] text-text-muted",children:t.shortcuts.length})]}),e.jsx("div",{children:t.shortcuts.map((a,d)=>e.jsxs("div",{className:o("flex items-center justify-between px-4 py-2.5",d<t.shortcuts.length-1&&"border-b border-border/70"),children:[e.jsx("span",{className:"text-sm text-text-secondary",children:a.description}),e.jsx("div",{className:"flex items-center gap-1",children:a.keys.map(h=>e.jsx("kbd",{className:"min-w-[24px] rounded border border-border bg-background px-1.5 py-0.5 text-center font-mono text-[11px] font-medium text-text-primary",children:h},`${a.description}-${h}`))})]},a.description))})]},t.name))}),e.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-surface/50 px-3 py-2 text-xs text-text-muted",children:[e.jsx(D,{size:13,className:"text-text-secondary"}),"Shortcuts are macOS-based. Use Ctrl where applicable on Windows/Linux."]})]}),m==="apiKeys"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{icon:e.jsx(R,{size:15}),title:"API Keys",description:"Create and manage API keys for MCP and programmatic BridgeMind access."}),S?e.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-accent-red/30 bg-accent-red/10 px-3 py-2 text-xs text-accent-red",children:[e.jsx(he,{size:13,className:"mt-0.5 shrink-0"}),e.jsx("span",{children:S})]}):null,e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-text-primary",children:"Create API Key"}),e.jsx("p",{className:"text-xs text-text-muted",children:"Keys are shown once. Copy and store them securely."})]}),e.jsxs("button",{onClick:Ke,disabled:U||L.trim().length===0,className:o(T,"disabled:cursor-not-allowed disabled:opacity-60"),children:[U?e.jsx(A,{size:13,className:"animate-spin"}):e.jsx(R,{size:13}),U?"Creating...":"Create Key"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-[11px] font-medium uppercase tracking-wide text-text-muted",children:"Key Name"}),e.jsx("input",{type:"text",value:L,onChange:t=>J(t.target.value),placeholder:"e.g. Claude Desktop",maxLength:100,className:o("w-full rounded-md border border-border bg-background px-3 py-2 text-sm text-text-primary","focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-blue focus-visible:ring-offset-2 focus-visible:ring-offset-background")})]})})]}),v?e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-text-primary",children:"New Key Generated"}),e.jsxs("p",{className:"text-xs text-text-muted",children:[v.name," • ",v.environment.toUpperCase()]})]}),e.jsxs("button",{onClick:Le,className:k,children:[re?e.jsx(je,{size:13}):e.jsx(Te,{size:13}),re?"Copied":"Copy Key"]})]}),e.jsx("code",{className:"block overflow-x-auto rounded-md border border-border bg-background px-3 py-2 font-mono text-xs text-accent-green",children:v.fullKey}),e.jsxs("div",{className:"mt-2 flex items-start gap-2 rounded-md border border-amber-500/30 bg-amber-500/10 px-2.5 py-2 text-[11px] text-amber-200",children:[e.jsx(he,{size:12,className:"mt-0.5 shrink-0 text-amber-300"}),e.jsx("span",{children:v.warning})]})]}):null,e.jsxs(l,{className:"overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-border bg-surface-hover/60 px-4 py-2.5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-text-primary",children:"Existing Keys"}),e.jsx("p",{className:"text-[11px] text-text-muted",children:"Rotate compromised keys immediately. Revoke keys you no longer use."})]}),e.jsxs("button",{onClick:()=>void w(),className:k,children:[e.jsx(xe,{size:13}),"Refresh"]})]}),K?e.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-8 text-sm text-text-muted",children:[e.jsx(A,{size:14,className:"animate-spin"}),"Loading API keys..."]}):P.length===0?e.jsx("div",{className:"px-4 py-8 text-center",children:e.jsx("p",{className:"text-sm text-text-muted",children:"No API keys created yet."})}):e.jsx("div",{className:"divide-y divide-border",children:P.map(t=>{const a=Ne===t.id,d=a&&ee==="rotate",h=a&&ee==="revoke";return e.jsxs("div",{className:"grid gap-3 px-4 py-3 lg:grid-cols-[1fr_auto] lg:items-center",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-text-primary",children:t.name}),e.jsx("span",{className:o("rounded border px-1.5 py-0.5 text-[10px] font-medium",t.isActive?"border-accent-green/30 bg-accent-green/10 text-accent-green":"border-accent-red/30 bg-accent-red/10 text-accent-red"),children:t.isActive?"Active":"Revoked"}),e.jsx("span",{className:"rounded border border-border bg-surface px-1.5 py-0.5 text-[10px] font-medium text-text-secondary",children:t.environment.toUpperCase()})]}),t.description?e.jsx("p",{className:"mt-1 text-xs text-text-muted",children:t.description}):null,e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] text-text-muted",children:[e.jsxs("code",{className:"rounded border border-border bg-background px-1.5 py-0.5 text-text-secondary",children:[t.keyPrefix,"...",t.keyHint]}),e.jsxs("span",{children:["Created ",ge(t.createdAt)]}),e.jsxs("span",{children:["Last used ",ge(t.lastUsedAt)]}),e.jsxs("span",{children:[t.usageCount," calls"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>void Ue(t),disabled:!t.isActive||a,className:o(k,"disabled:cursor-not-allowed disabled:opacity-50"),children:[d?e.jsx(A,{size:13,className:"animate-spin"}):e.jsx(xe,{size:13}),"Rotate"]}),e.jsxs("button",{onClick:()=>void Me(t),disabled:!t.isActive||a,className:o("inline-flex items-center gap-2 rounded-md border border-accent-red/30 bg-accent-red/10 px-3 py-1.5","text-xs font-medium text-accent-red transition-colors hover:bg-accent-red/15","focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-red focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-50"),children:[h?e.jsx(A,{size:13,className:"animate-spin"}):e.jsx(qe,{size:13}),"Revoke"]})]})]},t.id)})})]}),e.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-surface/50 px-3 py-2 text-xs text-text-muted",children:[e.jsx(ue,{size:13,className:"text-text-secondary"}),"Never share API keys in chat logs or source control. Rotate keys after suspected exposure."]})]}),m==="account"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{icon:e.jsx(le,{size:15}),title:"Account",description:"Manage your profile, billing, and current session."}),e.jsxs("section",{"aria-labelledby":"profile-heading",children:[e.jsx("h3",{id:"profile-heading",className:"mb-2 text-xs font-semibold uppercase tracking-wide text-text-muted",children:"Profile"}),e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex h-14 w-14 shrink-0 items-center justify-center rounded-md border border-border bg-surface-hover text-xl font-semibold text-text-primary",children:i?.email?.charAt(0).toUpperCase()||"U"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("h4",{className:"truncate text-sm font-semibold text-text-primary",children:i?.firstName&&i?.lastName?`${i.firstName} ${i.lastName}`:i?.email?.split("@")[0]||"User"}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded border border-accent-green/30 bg-accent-green/10 px-1.5 py-0.5 text-[10px] font-medium text-accent-green",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-accent-green"}),"Active"]})]}),e.jsxs("div",{className:"mb-3 flex items-center gap-1.5 text-xs text-text-muted",children:[e.jsx(et,{size:13}),e.jsx("span",{className:"truncate",children:i?.email||"No email set"})]}),e.jsxs("button",{onClick:Pe,className:k,children:[e.jsx($,{size:13}),"Edit Profile",e.jsx(We,{size:11,className:"text-text-muted"})]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-2 border-t border-border pt-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"rounded-md border border-border bg-surface px-3 py-2",children:[e.jsx("p",{className:"mb-0.5 text-[10px] uppercase tracking-wide text-text-muted",children:"Email"}),e.jsx("p",{className:"truncate text-xs font-medium text-text-primary",children:i?.email||"Not set"})]}),e.jsxs("div",{className:"rounded-md border border-border bg-surface px-3 py-2",children:[e.jsx("p",{className:"mb-0.5 text-[10px] uppercase tracking-wide text-text-muted",children:"Account ID"}),e.jsx("code",{className:"text-xs text-text-secondary",children:i?.id?`${i.id.slice(0,8)}...${i.id.slice(-4)}`:"Unknown"})]})]})]})]}),e.jsxs("section",{"aria-labelledby":"billing-heading",children:[e.jsx("h3",{id:"billing-heading",className:"mb-2 text-xs font-semibold uppercase tracking-wide text-text-muted",children:"Billing"}),e.jsx(l,{className:"mb-3 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md border border-border bg-surface-hover text-text-secondary",children:e.jsx(me,{size:16})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-text-primary",children:"Pro Plan"}),e.jsx("span",{className:"rounded border border-accent-blue/30 bg-accent-blue/10 px-1.5 py-0.5 text-[10px] font-medium text-accent-blue",children:"Active"})]}),e.jsx("p",{className:"text-xs text-text-muted",children:"Full access to all BridgeSpace features"})]})]}),e.jsxs("button",{onClick:ae,className:T,children:[e.jsx($,{size:13}),"Manage Plan"]})]})}),e.jsxs(l,{className:"p-2",children:[e.jsxs("button",{onClick:ae,className:o("group flex w-full items-center justify-between rounded-md border border-transparent px-3 py-2.5 text-left transition-colors","hover:border-border hover:bg-surface-hover"),children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md border border-border bg-surface text-text-secondary",children:e.jsx(Fe,{size:14})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-text-primary",children:"View Plans"}),e.jsx("div",{className:"text-xs text-text-muted",children:"Compare plans and pricing"})]})]}),e.jsx(ce,{size:14,className:"text-text-muted"})]}),e.jsxs("button",{onClick:Se,disabled:j,className:o("group flex w-full items-center justify-between rounded-md border border-transparent px-3 py-2.5 text-left transition-colors","hover:border-border hover:bg-surface-hover","disabled:cursor-not-allowed disabled:opacity-50"),children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md border border-border bg-surface text-text-secondary",children:e.jsx(me,{size:14})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-text-primary",children:j?"Opening Portal...":"Payment Methods"}),e.jsx("div",{className:"text-xs text-text-muted",children:"Update cards and billing details"})]})]}),e.jsx(ce,{size:14,className:"text-text-muted"})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-md border border-border bg-surface/50 px-3 py-2 text-xs text-text-muted",children:[e.jsx(ue,{size:13,className:"text-text-secondary"}),"Payments are handled securely through Stripe and open in your browser."]})]}),e.jsxs("section",{"aria-labelledby":"session-heading",children:[e.jsx("h3",{id:"session-heading",className:"mb-2 text-xs font-semibold uppercase tracking-wide text-text-muted",children:"Session"}),e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3 border-b border-border pb-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md border border-border bg-surface-hover text-accent-green",children:e.jsx(He,{size:16})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-0.5 flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-text-primary",children:"Current Device"}),e.jsx("span",{className:"rounded border border-accent-green/30 bg-accent-green/10 px-1.5 py-0.5 text-[10px] font-medium text-accent-green",children:"This Session"})]}),e.jsx("p",{className:"text-xs text-text-muted",children:"BridgeSpace Desktop • macOS"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md border border-border bg-surface text-text-secondary",children:e.jsx(pe,{size:14})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-text-primary",children:"Sign Out"}),e.jsx("p",{className:"text-xs text-text-muted",children:"End your session on this device"})]})]}),e.jsxs("button",{onClick:Ce,disabled:f,className:o("inline-flex items-center gap-2 rounded-md border border-border bg-surface-hover px-3 py-1.5","text-xs font-medium text-text-secondary transition-colors hover:border-accent-red/50 hover:text-accent-red","focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-red focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-50"),children:[e.jsx(pe,{size:13}),f?"Signing out...":"Sign Out"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-md border border-border bg-surface/50 px-3 py-2 text-xs text-text-muted",children:[e.jsx(D,{size:13,className:"text-text-secondary"}),"Your session is encrypted. Sign out when using shared devices."]})]}),e.jsxs("section",{"aria-labelledby":"debug-heading",children:[e.jsx("h3",{id:"debug-heading",className:"mb-2 text-xs font-semibold uppercase tracking-wide text-text-muted",children:"Debug"}),e.jsx(l,{className:"mb-3 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-md border border-border bg-surface-hover text-text-secondary",children:e.jsx(de,{size:14})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-text-primary",children:"Updates"}),e.jsxs("p",{className:"mt-1 text-[11px] text-text-muted",children:["Current version: ",z||"Unknown"]})]}),e.jsx("button",{onClick:Ie,disabled:H||_==="linux",className:k,children:H?e.jsxs(e.Fragment,{children:[e.jsx(A,{size:13,className:"animate-spin"}),"Checking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{size:13}),_==="linux"?"Updates Not Supported":"Check for Updates"]})})]}),V?e.jsx("p",{className:"mt-2 text-[11px] text-text-secondary",children:V}):null,W?e.jsx("p",{className:"mt-2 text-[11px] text-accent-red",children:W}):null,Y?e.jsxs("button",{onClick:ze,className:o(T,"mt-3"),children:["Install ",Y," and Restart"]}):null]})]})}),e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-md border border-border bg-surface-hover text-text-secondary",children:e.jsx($e,{size:14})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-xs font-semibold text-text-primary",children:"Log file"}),e.jsx("p",{className:"mt-1 text-[11px] text-text-muted",children:"For debugging auth and API issues."}),e.jsx(pt,{})]})]})})]})]})]})})]})}export{kt as SettingsPage};
