import{c as h,X as v,a as s}from"./index-BjdFrzXK.js";import{r as a,j as e}from"./vendor-codemirror-YmvNK9KJ.js";import{L as N}from"./MainApp-CsQxt9Iy.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],M=h("folder-kanban",k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],L=h("link",w);function z({isOpen:o,onClose:c,onSubmit:y}){const u=a.useRef(null),[n,m]=a.useState(""),[x,p]=a.useState(""),[b,i]=a.useState(null),[t,d]=a.useState(!1);a.useEffect(()=>{o&&(m(""),p(""),i(null),d(!1),setTimeout(()=>{u.current?.querySelector("input")?.focus()},50))},[o]),a.useEffect(()=>{const r=l=>{l.key==="Escape"&&o&&!t&&c()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[o,c,t]);const j=async r=>{r.preventDefault();const l=n.trim();if(!l){i("Project name is required");return}try{i(null),d(!0),await y(l,x.trim()||void 0)}catch(f){i(f instanceof Error?f.message:"Failed to create project"),d(!1)}},g=r=>{r.target===r.currentTarget&&!t&&c()};return o?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:g,children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),e.jsx("div",{ref:u,tabIndex:-1,className:s("relative z-10 w-full max-w-lg mx-4","bg-surface border border-border rounded-xl shadow-2xl","animate-in fade-in-0 zoom-in-95 duration-200"),children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-border",children:[e.jsx("h2",{className:"text-base font-semibold text-text-primary",children:"Create New Project"}),e.jsx("button",{type:"button",onClick:c,disabled:t,className:s("p-1.5 rounded-lg transition-all","text-text-muted hover:text-text-primary hover:bg-surface-hover","active:scale-95 active:opacity-90",t&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:e.jsx(v,{size:18})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{htmlFor:"project-name",className:"text-xs font-semibold text-text-secondary uppercase tracking-wide",children:"Project Name"}),e.jsx("input",{id:"project-name",value:n,onChange:r=>m(r.target.value),placeholder:"e.g., My Awesome Project",className:s("w-full rounded-lg px-3 py-2 text-sm","bg-background border border-border text-text-primary","focus:outline-none focus:border-accent-blue focus:ring-1 focus:ring-accent-blue","placeholder:text-text-muted/50"),disabled:t})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{htmlFor:"project-description",className:"text-xs font-semibold text-text-secondary uppercase tracking-wide",children:["Description ",e.jsx("span",{className:"text-text-muted font-normal normal-case",children:"(optional)"})]}),e.jsx("textarea",{id:"project-description",value:x,onChange:r=>p(r.target.value),placeholder:"What is this project about?",rows:3,className:s("w-full resize-none rounded-lg px-3 py-2 text-sm","bg-background border border-border text-text-primary","focus:outline-none focus:border-accent-blue focus:ring-1 focus:ring-accent-blue","placeholder:text-text-muted/50"),disabled:t})]}),b&&e.jsx("div",{className:"p-3 rounded-lg bg-accent-red/10 border border-accent-red/20 text-accent-red text-xs",children:b})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 px-5 py-4 border-t border-border bg-surface-hover/30 rounded-b-xl",children:[e.jsx("button",{type:"button",onClick:c,disabled:t,className:s("px-4 py-2 rounded-lg text-sm font-medium transition-all","text-text-muted hover:text-text-primary hover:bg-surface-hover","active:scale-95 active:opacity-90",t&&"opacity-50 cursor-not-allowed"),children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:t||!n.trim(),className:s("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all","bg-accent-blue text-white hover:bg-accent-blue/90","active:scale-95 active:opacity-90",(t||!n.trim())&&"opacity-50 cursor-not-allowed"),children:[t&&e.jsx(N,{size:14,className:"animate-spin"}),"Create Project"]})]})]})})]}):null}export{z as C,M as F,L};
