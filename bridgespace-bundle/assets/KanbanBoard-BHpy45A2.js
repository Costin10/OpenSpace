const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MarkdownRenderer-DBBJFyxo.js","assets/vendor-codemirror-YmvNK9KJ.js","assets/vendor-markdown-Bqz58gXN.js","assets/index-BjdFrzXK.js","assets/vendor-react-bmmOCWbf.js","assets/index-BW7OmidL.css"])))=>i.map(i=>d[i]);
import{r as n,j as e,R as ge}from"./vendor-codemirror-YmvNK9KJ.js";import{c as v,a as l,X as je,b as ye}from"./index-BjdFrzXK.js";import{u as ve,a as ke,E as we,g as F}from"./useApi-BCHzo7MO.js";import{_ as Ne}from"./vendor-markdown-Bqz58gXN.js";import{F as Ce,C as Q,a as ze,P as D}from"./MainApp-CsQxt9Iy.js";import{R as Z}from"./refresh-cw-Du5FK0wQ.js";import{C as ee,a as te}from"./circle-x-BsZCwU-6.js";import{E as se}from"./eye-DsInCY-v.js";import{C as re}from"./circle-CaS7GgL4.js";import{L as Ee,F as J,C as Te}from"./CreateProjectModal-DZE9Qx9e.js";import{C as Se}from"./chevron-left-BRK2ZYh3.js";import"./vendor-react-bmmOCWbf.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],X=v("book-open",Le);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],De=v("calendar",Ie);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oe=v("clock",Re);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],_e=v("grip-vertical",Pe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Me=v("hash",Ae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ke=v("play",Fe),H=ge.lazy(()=>Ne(()=>import("./MarkdownRenderer-DBBJFyxo.js"),__vite__mapDeps([0,1,2,3,4,5])).then(o=>({default:o.MarkdownRenderer}))),Y={todo:{label:"To Do",icon:e.jsx(re,{size:10}),color:"text-text-muted",bgColor:"bg-text-muted/10"},"in-progress":{label:"In Progress",icon:e.jsx(oe,{size:10}),color:"text-accent-blue",bgColor:"bg-accent-blue/10"},"in-review":{label:"In Review",icon:e.jsx(se,{size:10}),color:"text-accent-yellow",bgColor:"bg-accent-yellow/10"},complete:{label:"Complete",icon:e.jsx(te,{size:10}),color:"text-accent-green",bgColor:"bg-accent-green/10"},cancelled:{label:"Cancelled",icon:e.jsx(ee,{size:10}),color:"text-accent-red",bgColor:"bg-accent-red/10"}},Oe=o=>{const[a,...c]=o.split(`
`),m=a?.trim()||"Untitled task",x=c.join(`
`).trim();return{title:m,description:x.length?x:void 0}},q=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});function Be({task:o,isOpen:a,onClose:c,onRunTask:m}){const x=n.useRef(null),[r,u]=n.useState(!1),[f,j]=n.useState(!1),[p,y]=n.useState("instructions");if(n.useEffect(()=>{const g=N=>{N.key==="Escape"&&a&&c()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[a,c]),n.useEffect(()=>{a&&x.current?.focus(),u(!1),j(!1),y("instructions")},[a]),!a||!o)return null;const{title:k,description:b}=Oe(o.instructions),h=Y[o.status]||Y.todo,w=g=>{g.target===g.currentTarget&&c()},i=async()=>{await navigator.clipboard.writeText(o.id),u(!0),setTimeout(()=>u(!1),2e3)};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:w,children:[e.jsx("div",{className:"absolute inset-0 bg-black/50"}),e.jsxs("div",{ref:x,tabIndex:-1,className:"relative z-10 w-full max-w-lg flex flex-col bg-surface border border-border rounded-lg shadow-xl max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 px-4 py-3 border-b border-border",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-sm font-medium text-text-primary leading-tight line-clamp-2",children:k}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsxs("span",{className:l("inline-flex items-center gap-1 px-2 py-0.5 rounded text-[11px] font-medium",h.color,h.bgColor),children:[h.icon,h.label]})})]}),e.jsx("button",{onClick:c,className:"p-1 rounded text-text-muted hover:text-text-primary hover:bg-surface-hover","aria-label":"Close modal",children:e.jsx(je,{size:16})})]}),e.jsxs("div",{className:"flex border-b border-border",children:[e.jsxs("button",{onClick:()=>y("instructions"),className:l("flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium border-b-2 -mb-px",p==="instructions"?"text-text-primary border-accent-blue":"text-text-muted border-transparent hover:text-text-secondary"),children:[e.jsx(Ce,{size:12}),"Instructions"]}),e.jsxs("button",{onClick:()=>y("knowledge"),className:l("flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium border-b-2 -mb-px",p==="knowledge"?"text-text-primary border-accent-blue":"text-text-muted border-transparent hover:text-text-secondary"),children:[e.jsx(X,{size:12}),"Knowledge",o.taskKnowledge&&e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-cyan"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[p==="instructions"&&e.jsxs("div",{children:[b?e.jsx("div",{className:"bg-background rounded p-3 border border-border",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"text-text-muted text-sm p-2",children:"Loading..."}),children:e.jsx(H,{content:b})})}):e.jsx("div",{className:"text-sm text-text-muted italic",children:"No additional instructions provided."}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("button",{onClick:()=>j(!f),className:"flex items-center gap-1.5 text-xs text-text-muted hover:text-text-secondary",children:[e.jsx(Q,{size:12,className:f?"rotate-90":""}),e.jsx("span",{children:"Raw content"})]}),f&&e.jsx("div",{className:"mt-2 text-xs text-text-secondary whitespace-pre-wrap bg-background rounded p-3 border border-border font-mono max-h-[150px] overflow-y-auto",children:o.instructions})]})]}),p==="knowledge"&&e.jsx("div",{children:o.taskKnowledge?e.jsx("div",{className:"bg-background rounded p-3 border border-border",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"text-text-muted text-sm p-2",children:"Loading..."}),children:e.jsx(H,{content:o.taskKnowledge})})}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(X,{size:20,className:"mx-auto text-text-muted mb-2"}),e.jsx("p",{className:"text-sm text-text-muted",children:"No knowledge captured yet"}),e.jsx("p",{className:"text-xs text-text-muted/60 mt-1",children:"Knowledge is added by AI agents as they work on this task"})]})})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-3 border-t border-border bg-background/50",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[11px] text-text-muted",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(De,{size:11}),e.jsx("span",{children:q(o.createdAt)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{size:11}),e.jsx("span",{children:q(o.updatedAt)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:i,className:l("flex items-center gap-1.5 px-2 py-1 rounded text-[11px] font-mono","text-text-muted hover:text-text-secondary hover:bg-surface-hover",r&&"text-accent-green"),title:"Copy task ID",children:[r?e.jsx(ye,{size:11}):e.jsx(Me,{size:11}),e.jsx("span",{className:"max-w-[80px] truncate",children:r?"Copied":o.id.slice(0,8)}),!r&&e.jsx(ze,{size:11})]}),m&&e.jsxs("button",{onClick:()=>m(o),className:"flex items-center gap-1.5 px-3 py-1.5 rounded text-xs font-medium bg-accent-blue text-white hover:bg-accent-blue/90",title:"Run task in terminal with Claude Code",children:[e.jsx(Ke,{size:12,fill:"currentColor"}),"Run"]}),e.jsx("button",{onClick:c,className:"px-3 py-1.5 rounded text-xs font-medium bg-surface-hover hover:bg-border text-text-primary",children:"Close"})]})]})]})]})}const $e=[{id:"todo",title:"To Do",icon:e.jsx(re,{size:14}),color:"text-text-muted",dotColor:"bg-text-muted"},{id:"in-progress",title:"In Progress",icon:e.jsx(oe,{size:14}),color:"text-accent-blue",dotColor:"bg-accent-blue"},{id:"in-review",title:"In Review",icon:e.jsx(se,{size:14}),color:"text-accent-yellow",dotColor:"bg-accent-yellow"},{id:"complete",title:"Complete",icon:e.jsx(te,{size:14}),color:"text-accent-green",dotColor:"bg-accent-green"},{id:"cancelled",title:"Cancelled",icon:e.jsx(ee,{size:14}),color:"text-accent-red",dotColor:"bg-accent-red"}],We=o=>{const[a,...c]=o.split(`
`),m=a?.trim()||"Untitled task",x=c.join(`
`).trim();return{title:m,description:x.length?x:void 0}};function Ue({task:o,onDragStart:a,onClick:c}){const{title:m,description:x}=We(o.instructions),r=u=>{u.detail===1&&c()};return e.jsx("div",{draggable:!0,onDragStart:a,onClick:r,className:l("group px-3 py-2.5 bg-surface rounded-md border border-border/60","hover:border-border hover:bg-surface-hover","cursor-pointer active:scale-[0.98] active:opacity-90 active:shadow-lg","transition-all duration-100"),children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_e,{size:12,className:"mt-1 text-text-muted/40 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 cursor-grab"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[13px] text-text-primary font-medium leading-tight",children:m}),x&&e.jsx("p",{className:"text-xs text-text-muted mt-1 line-clamp-2 leading-relaxed",children:x})]})]})})}function Ve({column:o,tasks:a,onDrop:c,onDragOver:m,onDragLeave:x,isDragOver:r,onAddTask:u,onDragStart:f,onTaskClick:j,isAddingTask:p,newTaskText:y,onTaskTextChange:k,onTaskSubmit:b,onTaskCancel:h,inputRef:w}){return e.jsxs("div",{className:l("flex flex-col w-[260px] flex-shrink-0 rounded-lg transition-colors duration-150",r?"bg-accent-blue/5":"bg-transparent"),onDrop:c,onDragOver:m,onDragLeave:x,children:[e.jsxs("div",{className:"flex items-center justify-between px-2 py-2 mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:l("flex items-center",o.color),children:o.icon}),e.jsx("h3",{className:"text-xs font-semibold text-text-primary uppercase tracking-wide",children:o.title}),e.jsx("span",{className:"text-[10px] text-text-muted font-medium bg-surface-hover px-1.5 py-0.5 rounded",children:a.length})]}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("button",{onClick:u,className:"p-1 rounded hover:bg-surface-hover text-text-muted hover:text-text-primary transition-colors",title:"Add task",children:e.jsx(D,{size:14})}),e.jsx("button",{className:"p-1 rounded hover:bg-surface-hover text-text-muted hover:text-text-primary transition-colors",title:"More options",children:e.jsx(we,{size:14})})]})]}),e.jsxs("div",{className:l("flex-1 px-1 space-y-1.5 overflow-y-auto min-h-[100px]","scrollbar-thin scrollbar-track-transparent scrollbar-thumb-border"),children:[a.map(i=>e.jsx(Ue,{task:i,onDragStart:()=>f(i.id),onClick:()=>j(i)},i.id)),a.length===0&&!p&&e.jsx("div",{className:l("flex flex-col items-center justify-center py-6 rounded-md border border-dashed",r?"border-accent-blue bg-accent-blue/5":"border-border/50"),children:e.jsx("p",{className:"text-xs text-text-muted",children:"No tasks"})}),p&&e.jsxs("div",{className:"px-2 py-2 rounded-md border border-border/60 bg-surface/80",children:[e.jsx("textarea",{ref:w,value:y,onChange:i=>k(i.target.value),placeholder:"Describe the task...",className:l("w-full min-h-[64px] resize-none rounded-md px-2 py-1.5 text-xs","bg-background border border-border text-text-primary","focus:outline-none focus:border-accent-blue"),onKeyDown:i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),b()),i.key==="Escape"&&(i.preventDefault(),h())}}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:h,className:"text-[11px] text-text-muted hover:text-text-primary",children:"Cancel"}),e.jsx("button",{onClick:b,className:"text-[11px] px-2 py-1 rounded bg-accent-blue text-white hover:bg-accent-blue/90",children:"Add"})]})]})]}),!p&&e.jsxs("button",{onClick:u,className:l("flex items-center gap-1.5 mx-1 mt-2 mb-1 px-2 py-1.5 rounded-md","text-xs text-text-muted hover:text-text-primary","hover:bg-surface-hover transition-colors"),children:[e.jsx(D,{size:12}),e.jsx("span",{children:"Add task"})]})]})}const S="kanban-selected-project";function ot({onRunTask:o}){const{projects:a,loading:c,error:m,createProject:x}=ve(),[r,u]=n.useState(()=>{try{return localStorage.getItem(S)}catch{return null}}),{tasks:f,loading:j,error:p,createTask:y,updateTask:k,setTasks:b,refresh:h}=ke(r,{enabled:!!r}),[w,i]=n.useState(!1);n.useEffect(()=>{const t=()=>{const s=localStorage.getItem(S);s&&(u(s),setTimeout(()=>h(),100))};return window.addEventListener("bridgemind:project-changed",t),()=>window.removeEventListener("bridgemind:project-changed",t)},[h]);const[g,N]=n.useState(null),[ne,R]=n.useState(null),[C,P]=n.useState(null),[K,L]=n.useState(""),[O,z]=n.useState(null),[B,$]=n.useState(null),_=n.useRef(null);n.useEffect(()=>{try{r?localStorage.setItem(S,r):localStorage.removeItem(S)}catch{}},[r]),n.useEffect(()=>{if(c)return;if(!a.length){u(null);return}(r?a.some(s=>s.id===r):!1)||u(a[0].id)},[a,c,r]),n.useEffect(()=>{C&&_.current&&_.current.focus()},[C]),n.useMemo(()=>a.find(t=>t.id===r)||null,[a,r]);const ae=n.useMemo(()=>{const t={todo:[],"in-progress":[],"in-review":[],complete:[],cancelled:[]};return f.forEach(s=>{const d=s.status in t?s.status:"todo";t[d].push(s)}),t},[f]),ce=(t,s)=>{N({taskId:t,fromColumn:s})},ie=(t,s)=>{t.preventDefault(),R(s)},le=()=>{R(null)},de=async t=>{if(R(null),!g)return;const{taskId:s,fromColumn:d}=g;if(d===t){N(null);return}const T=f;b(I=>I.map(M=>M.id===s?{...M,status:t}:M));const G=await k(s,{status:t});if(!G.success){b(T);const I=F(G.error,"task");I&&z(I)}N(null)},W=t=>{if(!r){z("Select a project before creating tasks");return}z(null),P(t),L("")},xe=async()=>{if(!r||!C)return;const t=K.trim();if(!t)return;const s=await y(t,C);if(!s.success){const d=F(s.error,"task");d&&z(d);return}L(""),P(null)},ue=async(t,s)=>{const d=await x(t,s);if(!d.success||!d.data){const T=F(d.error,"project")||"Unable to create project. Please try again.";throw new Error(T)}i(!1),u(d.data.id)},me=async()=>{if(r)try{const t=await window.tauriAPI?.dialog?.openFolder({title:"Select Folder to Link"});if(t){const s=JSON.stringify({projectId:r},null,2),d=await window.tauriAPI.fs.join(t,".bridgemind.json");await window.tauriAPI.fs.writeFile(d,s),localStorage.setItem(S,r),window.dispatchEvent(new CustomEvent("bridgemind:project-changed",{detail:{projectId:r,path:t}})),alert("Folder linked successfully!")}}catch{z("Failed to link folder")}},U=f.length,A=n.useRef(null),[pe,he]=n.useState(!1),[fe,be]=n.useState(!1),E=()=>{const t=A.current;if(t){const s=t.scrollWidth>t.clientWidth,d=t.scrollLeft>0,T=t.scrollLeft+t.clientWidth>=t.scrollWidth-1;he(s&&d),be(s&&!T)}};n.useEffect(()=>(E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)),[a]);const V=t=>{const s=A.current;s&&(s.scrollBy({left:t==="left"?-200:200,behavior:"smooth"}),setTimeout(E,300))};return e.jsxs("div",{className:"flex flex-col h-full bg-background",children:[e.jsxs("div",{className:"border-b border-border bg-surface/50",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-sm font-semibold text-text-primary",children:"Kanban Board"}),e.jsxs("span",{className:"text-[11px] text-text-muted bg-surface-hover px-2 py-0.5 rounded-full",children:[U," tasks"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(),className:l("p-2 rounded-md text-text-muted hover:text-text-primary","hover:bg-surface-hover transition-colors",j&&"animate-spin"),title:"Refresh tasks",children:e.jsx(Z,{size:14})}),e.jsxs("button",{onClick:()=>i(t=>!t),className:l("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium","border border-border text-text-primary","hover:bg-surface-hover transition-colors"),children:[e.jsx(D,{size:14}),e.jsx("span",{children:"New Project"})]}),e.jsxs("button",{onClick:me,className:l("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium","border border-border text-text-primary","hover:bg-surface-hover transition-colors",!r&&"opacity-60 cursor-not-allowed"),disabled:!r,title:"Link current project to a folder",children:[e.jsx(Ee,{size:14}),e.jsx("span",{children:"Link Folder"})]}),e.jsxs("button",{onClick:()=>W("todo"),className:l("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium","bg-accent-blue text-white","hover:bg-accent-blue/90 transition-colors",!r&&"opacity-60 cursor-not-allowed"),disabled:!r,children:[e.jsx(D,{size:14}),e.jsx("span",{children:"New Task"})]})]})]}),e.jsxs("div",{className:"relative flex items-center px-4 pb-0",children:[pe&&e.jsx("button",{onClick:()=>V("left"),className:"absolute left-1 z-10 p-1 rounded-md bg-surface/90 border border-border text-text-muted hover:text-text-primary hover:bg-surface-hover transition-colors",children:e.jsx(Se,{size:14})}),e.jsxs("div",{ref:A,onScroll:E,className:"flex items-end gap-1 overflow-x-auto scrollbar-none",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[a.map(t=>{const s=t.id===r;return e.jsxs("button",{onClick:()=>u(t.id),className:l("group flex items-center gap-2 px-4 py-2 text-xs font-medium whitespace-nowrap rounded-t-lg transition-all","border-x border-t",s?"bg-background text-text-primary border-border -mb-px":"bg-transparent text-text-muted hover:text-text-secondary border-transparent hover:bg-surface-hover/50"),children:[e.jsx(J,{size:14,className:l(s?"text-accent-green":"text-text-muted group-hover:text-text-secondary")}),e.jsx("span",{className:"max-w-[150px] truncate",children:t.name}),s&&e.jsx("span",{className:"text-[10px] text-text-muted bg-surface-hover px-1.5 py-0.5 rounded",children:U})]},t.id)}),a.length===0&&!c&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-xs text-text-muted",children:[e.jsx(J,{size:14}),e.jsx("span",{children:"No projects yet"})]})]}),fe&&e.jsx("button",{onClick:()=>V("right"),className:"absolute right-1 z-10 p-1 rounded-md bg-surface/90 border border-border text-text-muted hover:text-text-primary hover:bg-surface-hover transition-colors",children:e.jsx(Q,{size:14})})]})]}),e.jsx("div",{className:"flex-1 overflow-x-auto",children:e.jsx("div",{className:"flex gap-1 h-full p-3 min-w-max",children:$e.map(t=>e.jsx(Ve,{column:t,tasks:ae[t.id],onDrop:()=>de(t.id),onDragOver:s=>ie(s,t.id),onDragLeave:le,isDragOver:ne===t.id,onAddTask:()=>W(t.id),onDragStart:s=>ce(s,t.id),onTaskClick:s=>$(s),isAddingTask:C===t.id,newTaskText:K,onTaskTextChange:L,onTaskSubmit:xe,onTaskCancel:()=>{P(null),L("")},inputRef:_},t.id))})}),(c||j)&&e.jsxs("div",{className:"px-4 py-2 text-xs text-text-muted",children:["Loading ",c?"projects":"tasks","..."]}),(m||p||O)&&e.jsx("div",{className:"px-4 py-2 text-xs text-accent-red",children:m||p||O}),e.jsx(Be,{task:B,isOpen:B!==null,onClose:()=>$(null),onRunTask:o}),e.jsx(Te,{isOpen:w,onClose:()=>i(!1),onSubmit:ue})]})}export{ot as KanbanBoard};
